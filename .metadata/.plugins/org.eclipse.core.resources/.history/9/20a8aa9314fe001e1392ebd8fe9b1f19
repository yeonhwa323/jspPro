<%@page import="java.net.URLEncoder"%>
<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>

<% 
	String id = request.getParameter("id");
	String passwd = request.getParameter("passwd");
	
	String location = "";
	
	// DB 인증처리
	if(id.equals("admin") && passwd.equals("1234") ){
		String name = "관리자";				
		location = "ex10_main.jsp?ok&name="
			+ URLEncoder.encode(name, "UTF-8");
		// 인증된 정보 저장 - DB, 쿠키, 세션
	}  else{
		location = "ex10.jsp?error";
	}
	
	// [1]
	// 서버에 가서 ok.jsp에서 다시 main.jsp 요청
	// response.sendRedirect(location);
	
	// [2] 포워딩
	// Deispatcher 발송담당자,  급파하는 사람.
	String path = location;
	RequestDispatcher dispatcher = request.getRequestDispatcher(path);
	dispatcher.forward(request, response);

	
%>